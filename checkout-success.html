<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EloDark | Pagamento Confirmado âœ…</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Orbitron:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <style>
        .checkout-result {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px
        }

        .result-card {
            text-align: center;
            max-width: 500px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-glass);
            border-radius: var(--radius-xl);
            padding: 60px 40px;
            position: relative;
            overflow: hidden
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--green), var(--cyan))
        }

        .result-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block
        }

        .result-card h1 {
            font-family: var(--font-display);
            font-size: 1.6rem;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 2px
        }

        .result-card p {
            color: var(--text-secondary);
            margin-bottom: 8px;
            line-height: 1.7
        }

        .order-id {
            font-family: var(--font-display);
            font-size: 1.1rem;
            color: var(--accent);
            margin: 20px 0
        }

        .result-actions {
            margin-top: 32px;
            display: flex;
            gap: 12px;
            justify-content: center
        }
    </style>
</head>

<body>
    <div class="checkout-result">
        <div class="result-card">
            <span class="result-icon">ðŸŽ‰</span>
            <h1>Pagamento Confirmado!</h1>
            <p>Seu pedido foi registrado com sucesso. Um booster serÃ¡ atribuÃ­do em breve.</p>
            <div class="order-id" id="order-info">Carregando...</div>
            <p style="font-size:0.85rem">VocÃª receberÃ¡ atualizaÃ§Ãµes sobre o progresso do seu pedido.</p>
            <div class="result-actions">
                <a href="/" class="btn btn-primary">Voltar ao InÃ­cio</a>
            </div>
        </div>
    </div>
    <script>
        const params = new URLSearchParams(window.location.search);
        const orderId = params.get('order_id');
        const sessionId = params.get('session_id');

        if (orderId) {
            document.getElementById('order-info').textContent = `Pedido #${orderId}`;
        }

        // Verify payment with backend
        if (sessionId) {
            const token = localStorage.getItem('elodark_token');
            if (token) {
                fetch(`/api/checkout/verify/${sessionId}`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                })
                    .then(r => r.json())
                    .then(data => {
                        if (data.payment_status === 'paid') {
                            document.getElementById('order-info').innerHTML =
                                `Pedido #${data.order_id} â€” <span style="color:var(--green)">Pago âœ…</span>`;
                        }
                    })
                    .catch(() => { });
            }
        }
    </script>
</body>

</html>